#env:
# - GH_PAGES_SRC="build-docs"
# compiler & addons are both used for RocksDb
# compiler:
#   - clang
#   - gcc
# addons:
#   apt:
#     sources:
#       - ubuntu-toolchain-r-test
#     packages:
#       - curl
#       - g++-8
#       - libbz2-dev
#       - libgflags-dev
#       - libsnappy-dev
#       - mingw-w64
#       - zlib1g-dev
before_install:
  - curl -o- -L https://yarnpkg.com/install.sh | bash
  - export PATH=$HOME/.yarn/bin:$(yarn global bin):$PATH
cache:
  yarn: true
  directories:
    - node_modules
matrix:
  include:
    - language: rust
    script:
      - ./build.sh
      - ./test-rust.sh
  include:
    - language: node_js
    node_js:
      - "10"
    script:
      - ./test-js.sh
